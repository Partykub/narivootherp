# User Scenarios – ระบบข้อมูลการศึกษา (School ERP)

อ้างอิง `PRD.md`, `SRS.md`, `USE_CASES.md`

---

## Scenario 1: นักเรียนตรวจสอบสถานะการเรียนและเอกสาร
- **Persona**: นิวต์, นักเรียนมัธยมศึกษาปีที่ 4
- **เป้าหมาย**: ดูตารางเรียนวันนี้, เช็คคะแนนวิชาที่เพิ่งสอบ, ดาวน์โหลด ปพ. ล่าสุด
- **สถานการณ์**: นิวต์เปิดระบบผ่านมือถือก่อนเข้าเรียน
- **ลำดับเหตุการณ์**:
  1. เข้าสู่ระบบ → หน้า Dashboard แสดงตารางเรียนวันนี้
  2. เลือกเมนู “คะแนนและเกรด” → ดูคะแนนสอบกลางภาควิชาคณิตศาสตร์ที่เพิ่งประกาศ
  3. กดปุ่ม “ดาวน์โหลดเอกสารทางการศึกษา” → เลือก ปพ.1 → ระบบดาวน์โหลดไฟล์ PDF
  4. ระบบบันทึกการเข้าถึงใน audit log และแจ้งเตือนผ่านอีเมล/LINE ว่ามีการดาวน์โหลด
- **ผลลัพธ์ที่คาดหวัง**: นิวต์รับรู้สถานะการเรียนล่าสุดและได้เอกสารที่ต้องใช้โดยไม่ต้องติดต่อเจ้าหน้าที่
- **Touchpoints**: ระบบเว็บ, แจ้งเตือนผ่าน Email/LINE, QR verify (สำหรับตรวจความถูกต้องภายหลัง)

## Scenario 2: ครูบันทึกคะแนนและเสนอเกรด
- **Persona**: ครูเอิร์ธ, ผู้สอนวิชาวิทยาศาสตร์
- **เป้าหมาย**: บันทึกคะแนนสอบย่อยและเสนอผลรวมให้หัวหน้ากลุ่มอนุมัติ
- **สถานการณ์**: หลังสอบเสร็จ ครูเอิร์ธต้องกรอกคะแนน 40 คนในคืนนี้
- **ลำดับเหตุการณ์**:
  1. เข้าสู่ระบบ → วิชาวิทยาศาสตร์ → เลือก assessment “Quiz 3”
  2. ดาวน์โหลดไฟล์ CSV เทมเพลต → กรอกคะแนนใน Excel → อัปโหลดกลับเข้าระบบ
  3. ระบบตรวจ validation (ค่าคะแนนถูกช่วง, น้ำหนักรวม 100) → แสดงผลรวมรายคน
  4. ครูตรวจสอบ → กด “Submit for Approval” พร้อมโน้ตถึงหัวหน้ากลุ่ม
  5. ระบบแจ้งเตือนหัวหน้ากลุ่มผ่าน Email/LINE และอัปเดตสถานะเป็น “Submitted”
- **ผลลัพธ์ที่คาดหวัง**: คะแนนถูกบันทึกภายในระยะเวลาที่กำหนด และ workflow เดินหน้าไปสู่การอนุมัติ
- **Touchpoints**: เว็บบนเดสก์ท็อป, อัปโหลด CSV, การแจ้งเตือนผ่าน LINE/Email

## Scenario 3: หัวหน้ากลุ่มอนุมัติเกรดพร้อมตรวจสอบความผิดปกติ
- **Persona**: ครูอร, หัวหน้ากลุ่มสาระวิทยาศาสตร์
- **เป้าหมาย**: อนุมัติเกรดที่ครูส่งมา พร้อมตรวจสอบสถิติและความผิดปกติ
- **สถานการณ์**: ก่อนปิดภาคเรียน ต้องอนุมัติเกรดทุกวิชาภายใน 3 วัน
- **ลำดับเหตุการณ์**:
 1. เปิดหน้า “Pending Grade Approvals” → เห็นรายการวิชาที่รออนุมัติ
  2. ระบบแสดงสถิติเทียบกับเทอมก่อน พร้อมคำเตือนจากกฎตรวจสอบที่กำหนดหากพบค่าเฉลี่ยผิดปกติ
  3. ครูอรเปิดรายละเอียดนักเรียนที่คะแนนผิดปกติ → ตรวจสอบเหตุผลที่ครูระบุ
  4. หากข้อมูลครบถ้วน → กด “Approve”; ถ้ามีข้อสงสัย → กด “Request Change” พร้อมเหตุผล
  5. ระบบล็อกเกรดเมื่อครบกำหนดและบันทึก audit log
- **ผลลัพธ์ที่คาดหวัง**: เกรดที่มีคุณภาพ, ผ่านการตรวจสอบ, และพร้อมประกาศ
- **Touchpoints**: เว็บ, การแจ้งเตือน, บทวิเคราะห์/คำเตือนจากระบบ

## Scenario 4: เจ้าหน้าที่การเงินออกใบแจ้งหนี้และติดตามการชำระ
- **Persona**: คุณพิม, เจ้าหน้าที่การเงิน
- **เป้าหมาย**: สร้างใบแจ้งหนี้เทอม 2/2025 สำหรับนักเรียนทุกคน และติดตามยอดค้าง
- **สถานการณ์**: ก่อนเปิดเทอมใหม่ 2 สัปดาห์ ต้องส่งใบแจ้งหนี้ให้ผู้ปกครอง
- **ลำดับเหตุการณ์**:
  1. เลือก “สร้างใบแจ้งหนี้แบบกลุ่ม” → กำหนดเทอมและระดับชั้น
  2. ระบบคำนวณยอดเรียกเก็บตาม fee structure และส่วนลดทุน → แสดง preview
  3. คุณพิมตรวจ → กด “Confirm” → ระบบออกใบแจ้งหนี้ + ส่งอีเมล/LINE ถึงผู้ปกครอง
  4. เมื่อผู้ปกครองชำระผ่าน gateway → ระบบรับ webhook → ออกใบเสร็จอัตโนมัติ
  5. คุณพิมเปิดรายงาน Aged Receivables เพื่อดูรายชื่อค้างชำระ → ส่งแจ้งเตือนย้ำเตือน
- **ผลลัพธ์ที่คาดหวัง**: ใบแจ้งหนี้ถูกส่งตรงเวลา, ชำระเงินถูกบันทึก, ตัวติดตามหนี้พร้อมข้อมูล
- **Touchpoints**: เว็บ, Email/LINE, Payment Gateway, รายงาน

## Scenario 5: เจ้าหน้าที่เอกสารออกเอกสาร ปพ. พร้อมตรวจสอบ
- **Persona**: คุณโม, เจ้าหน้าที่ธุรการเอกสาร
- **เป้าหมาย**: ออก ปพ.1 ให้กับนักเรียนที่กำลังสมัครเข้ามหาวิทยาลัย
- **สถานการณ์**: มีคำร้องขอจากนักเรียน 30 คนต้องได้เอกสารภายในวันนี้
- **ลำดับเหตุการณ์**:
  1. เปิดเมนู “ออกเอกสาร” → เลือกนักเรียนหลายคนพร้อมกัน
  2. ระบบดึงข้อมูลคะแนน, สถานะการเงิน, และข้อมูลส่วนตัว → แสดง preview
  3. ระบบตรวจสอบเงื่อนไขการเงินและแจ้งว่ามีนักเรียน 2 คนค้างชำระ → คุณโมแจ้งฝ่ายการเงินตรวจสอบ
  4. สำหรับผู้ผ่านเงื่อนไข → กด “Submit for Approval” → ผู้อนุมัติอนุมัติทางออนไลน์
  5. ระบบออกเลขที่เอกสาร, ลายเซ็นดิจิทัล, QR → แจ้งนักเรียนดาวน์โหลดได้
- **ผลลัพธ์ที่คาดหวัง**: นักเรียนได้รับเอกสารพร้อมใช้งานอย่างถูกต้อง และไม่มีข้อผิดพลาดด้านข้อมูล/สถานะการเงิน
- **Touchpoints**: เว็บ, ระบบแจ้งเตือน, QR verification page

## Scenario 6: ครูประจำชั้นประเมินพฤติกรรมและแจ้งผู้ปกครอง
- **Persona**: ครูบี, ครูประจำชั้น ม.2/3
- **เป้าหมาย**: บันทึกผลการประเมินคุณลักษณะประจำเดือน และแจ้งเหตุการณ์พิเศษแก่ผู้ปกครอง
- **สถานการณ์**: หลังประชุมครูประจำชั้น ต้องบันทึกคะแนนและแจ้งผู้ปกครอง
- **ลำดับเหตุการณ์**:
  1. เปิดเมนู “ประเมินคุณลักษณะ” → เลือกรูบริกประจำเดือน → กรอกผลรายนักเรียน
  2. สำหรับเหตุการณ์พิเศษ (เช่น ความประพฤติ) → กด “บันทึก Incident” → พิมพ์รายละเอียด
  3. ระบบวิเคราะห์ข้อความ → แนะนำหมวด/ระดับความรุนแรง → ครูปรับ/ยืนยัน
  4. ตั้งค่าให้แจ้งผู้ปกครองที่เกี่ยวข้อง → ระบบส่ง LINE/Email พร้อมสรุป
  5. รายการถูกเก็บในรายงานห้องเรียนและใช้ประกอบการประเมินสิ้นเทอม
- **ผลลัพธ์ที่คาดหวัง**: ข้อมูลประเมินครบถ้วน มีการแจ้งผู้ปกครองทันเหตุการณ์
- **Touchpoints**: เว็บ, LINE/Email notification, รายงานประจำชั้น

## Scenario 7: ผู้บริหารดูรายงานเชิงกลยุทธ์
- **Persona**: ผู้อำนวยการ, ผู้บริหารโรงเรียน
- **เป้าหมาย**: ตรวจสรุป GPA เฉลี่ยเทียบปีที่แล้ว และดูสถานะการเงินโดยรวม
- **สถานการณ์**: ประชุมคณะกรรมการโรงเรียนประจำเดือน
- **ลำดับเหตุการณ์**:
  1. เข้าหน้า Dashboards → เห็น card สรุป KPI (GPA เฉลี่ย, % นักเรียนเสี่ยง, ยอดค้างชำระ)
  2. เลือก “รายงานผลการเรียน” → ฟิลเตอร์เทอม 2025/1 → ระบบสร้างกราฟและตาราง
  3. พิมพ์ข้อความถาม “นักเรียนใด GPA ต่ำกว่า 2.0 และค้างชำระ?” → Natural Language Report Assistant สร้างรายงาน
  4. บันทึก preset รายงานและ export เป็น PDF เพื่อใช้ในที่ประชุม
- **ผลลัพธ์ที่คาดหวัง**: ผู้บริหารได้ข้อมูลทันสมัย พร้อม insight สำหรับกำหนดแผน
- **Touchpoints**: Dashboard, โหมดถามคำถามด้วยการเลือกฟิลเตอร์, Export/Sharing

## Scenario 8: ผู้ดูแลจัดการสิทธิ์และ audit log
- **Persona**: คุณวิน, ผู้ดูแลระบบ
- **เป้าหมาย**: ปรับสิทธิ์ให้ครูใหม่ และตรวจสอบประวัติการแก้ไขคะแนน
- **สถานการณ์**: มีครูย้ายเข้ามาใหม่ และผู้บริหารขอตรวจสอบการแก้ไขคะแนนล่าสุด
- **ลำดับเหตุการณ์**:
  1. เข้าเมนู RBAC → สร้างบทบาท “ครูผู้สอนวิชาเลือก” พร้อม permission codes  
  2. มอบหมายบทบาทให้ครูใหม่ → ระบบบันทึก log  
  3. ไปที่เมนู Audit Logs → กรองกิจกรรม “Grade Change” ในช่วง 30 วัน  
  4. ระบบแสดงรายการคำขอแก้ไขที่อนุมัติ → คุณวิน export รายงานส่งต่อผู้บริหาร  
- **ผลลัพธ์ที่คาดหวัง**: สิทธิ์ถูกอัปเดตตรงตามบทบาท และมีข้อมูลตรวจสอบย้อนหลังให้ผู้บริหาร
- **Touchpoints**: ระบบเว็บ, Audit log report, Export

---

เอกสาร User Scenarios นี้ใช้ประกอบการออกแบบ UX, ทดสอบ (UAT) และจำลองการใช้งานจริง โดยครอบคลุมบทบาทหลักและ workflow สำคัญของระบบ School ERP
